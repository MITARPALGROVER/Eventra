<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Luxury Furniture - Eventra</title>
    <link rel="stylesheet" href="./css/navbar.css" />
    <link rel="stylesheet" href="./css/category-detail.css" />
    <link rel="stylesheet" href="./css/payment-modal.css" />
    <script src="./js/auth.js"></script>
    <script src="./js/animations.js"></script>
    <script src="./js/cart.js"></script>
    <script src="./js/booking.js"></script>
    <script src="./js/payment.js"></script>
    <script src="./js/search.js"></script>
  </head>
  <body>
    <!-- NAVBAR -->
    <header class="nav">
      <div class="container nav-inner">
        <div class="brand" onclick="window.location.href = 'index.html'">Eventra</div>

        <nav class="menu" aria-label="Main">
          <a href="index.html">Home</a>
          <a href="categories.html">Categories</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </nav>

        <div class="nav-buttons">
          <div class="cart-icon" onclick="window.location.href='cart.html'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="m1 1 4 4 2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span class="cart-count">0</span>
          </div>
          <button class="btn btn-outline" id="loginBtn">Sign In</button>
          <button class="btn btn-primary" id="signupBtn">Get Started</button>
          <button class="hamburger" id="hamburger">☰</button>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="inner-container">
        <div class="back-nav">
          <a href="categories.html">&larr; Back to Categories</a>
        </div>

        <div class="category-header">
          <div>
            <h1>Luxury Indian Furniture</h1>
            <p class="category-description">
              Traditional and contemporary Indian seating, tables, and lounge
              areas for elegant events and celebrations
            </p>
          </div>
          <div class="item-count">156 items available</div>
        </div>

        <div class="filter-bar">
          <div class="filter-section">
            <button class="filter-button" id="showFiltersBtn">
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 6H20M7 12H17M9 18H15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Region Filters
            </button>
            <div class="view-toggle">
              <button class="view-button active" data-view="grid">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 3H10V10H3V3ZM14 3H21V10H14V3ZM3 14H10V21H3V14ZM14 14H21V21H14V14Z"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                </svg>
              </button>
              <button class="view-button" data-view="list">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 5H21M3 12H21M3 19H21"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </button>
            </div>
          </div>
          <div class="sort-section">
            <span>Sort by:</span>
            <select id="sortOptions">
              <option>Featured</option>
              <option>Hourly Rate: Low to High</option>
              <option>Hourly Rate: High to Low</option>
              <option>Rating</option>
              <option>Newest Arrivals</option>
              <option>Regional Style</option>
            </select>
          </div>
        </div>

        <div class="filter-panel" id="filterPanel">
          <div class="filter-groups">
            <div class="filter-group">
              <h4>Regional Styles</h4>
              <div class="filter-options">
                <label><input type="checkbox" /> Rajasthani</label>
                <label><input type="checkbox" /> Gujarati</label>
                <label><input type="checkbox" /> Kashmiri</label>
                <label><input type="checkbox" /> South Indian</label>
                <label><input type="checkbox" /> Bengali</label>
                <label><input type="checkbox" /> Maharashtrian</label>
              </div>
            </div>
            <div class="filter-group">
              <h4>Material</h4>
              <div class="filter-options">
                <label><input type="checkbox" /> Sheesham Wood</label>
                <label><input type="checkbox" /> Teak</label>
                <label><input type="checkbox" /> Rosewood</label>
                <label><input type="checkbox" /> Brass</label>
                <label><input type="checkbox" /> Silver</label>
                <label><input type="checkbox" /> Marble</label>
              </div>
            </div>
            <div class="filter-group">
              <h4>Rental Period</h4>
              <div class="filter-options">
                <label><input type="checkbox" /> 4-8 Hours</label>
                <label><input type="checkbox" /> 24 Hours</label>
                <label><input type="checkbox" /> 2-3 Days</label>
                <label><input type="checkbox" /> Weekly</label>
              </div>
            </div>
            <div class="filter-group">
              <h4>Price Range (per hour)</h4>
              <div class="filter-options price-range">
                <input
                  type="range"
                  min="500"
                  max="5000"
                  value="2500"
                  id="priceRange"
                />
                <div class="price-labels">
                  <span>₹500</span>
                  <span id="priceValue">₹2,500</span>
                  <span>₹5,000</span>
                </div>
              </div>
            </div>
          </div>
          <div class="filter-actions">
            <button class="btn-apply">Apply Filters</button>
            <button class="btn-reset">Reset</button>
          </div>
        </div>

        <div class="products-grid">
          <!-- Product 1 -->
          <div class="product-card" data-product-id="maharaja-velvet-sofa">
            <div class="product-image">
              <img
                src="https://cpimg.tistatic.com/5553478/b/1/maharaja-wooden-sofa.jpg"
                alt="Royal Maharaja Sofa"
              />
              <span class="featured-tag">Featured</span>
              <button class="favorite-button" data-item-id="maharaja-velvet-sofa" data-item-title="Maharaja Velvet Sofa" data-item-price="₹2,500" data-item-category="Royal Seating">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">Royal Seating</span>
                <div class="product-rating">
                  <span class="stars">★★★★★</span>
                  <span class="rating-count">(42)</span>
                </div>
              </div>
              <h3 class="product-title">Maharaja Velvet Sofa</h3>
              <div class="product-price">₹2,500/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>

          <!-- Product 2 -->
          <div class="product-card" data-product-id="carved-wooden-jharokha">
            <div class="product-image">
              <img
                src="https://m.media-amazon.com/images/I/6143l5UinSL._UF1000,1000_QL80_.jpg"
                alt="Carved Wooden Jharokha"
              />
              <button class="favorite-button" data-item-id="carved-wooden-jharokha" data-item-title="Carved Wooden Jharokha" data-item-price="₹3,200" data-item-category="Decorative">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">Traditional</span>
                <div class="product-rating">
                  <span class="stars">★★★★★</span>
                  <span class="rating-count">(36)</span>
                </div>
              </div>
              <h3 class="product-title">Carved Wooden Jharokha</h3>
              <div class="product-price">₹1,800/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>

          <!-- Product 3 -->
          <div class="product-card" data-product-id="rajasthani-carved-table">
            <div class="product-image">
              <img
                src="https://www.insaraf.com/cdn/shop/products/DSC_3887_eb0cd51d-3131-4df0-9cf8-daf24ec8e620_2048x.jpg?v=1556419293"
                alt="Rajasthani Carved Table"
              />
              <span class="featured-tag">Featured</span>
              <button class="favorite-button" data-item-id="rajasthani-carved-table" data-item-title="Rajasthani Carved Table" data-item-price="₹1,800" data-item-category="Tables">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">Rajasthani</span>
                <div class="product-rating">
                  <span class="stars">★★★★★</span>
                  <span class="rating-count">(53)</span>
                </div>
              </div>
              <h3 class="product-title">Rajasthani Carved Table</h3>
              <div class="product-price">₹1,200/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>

          <!-- Product 4 -->
          <div class="product-card" data-product-id="traditional-brass-set">
            <div class="product-image">
              <img
                src="https://craftzone.in/backend/uploads/products/SKU0000001081/ebffdf8a3f1b5b7c5786677b09481cee.webp"
                alt="Brass Decor Set"
              />
              <button class="favorite-button" data-item-id="traditional-brass-set" data-item-title="Traditional Brass Set" data-item-price="₹4,200" data-item-category="Decorative">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">Brass Decor</span>
                <div class="product-rating">
                  <span class="stars">★★★★☆</span>
                  <span class="rating-count">(28)</span>
                </div>
              </div>
              <h3 class="product-title">Traditional Brass Set</h3>
              <div class="product-price">₹950/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>

          <!-- Product 5 -->
          <div class="product-card" data-product-id="banarasi-diwan-set">
            <div class="product-image">
              <img
                src="https://m.media-amazon.com/images/I/A1v3uqDeMuL.jpg"
                alt="Banarasi Diwan Set"
              />
              <button class="favorite-button" data-item-id="banarasi-diwan-set" data-item-title="Banarasi Diwan Set" data-item-price="₹6,500" data-item-category="Seating">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">Diwan</span>
                <div class="product-rating">
                  <span class="stars">★★★★★</span>
                  <span class="rating-count">(47)</span>
                </div>
              </div>
              <h3 class="product-title">Banarasi Diwan Set</h3>
              <div class="product-price">₹1,500/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>

          <!-- Product 6 -->
          <div class="product-card" data-product-id="tanjore-painting-frame">
            <div class="product-image">
              <img
                src="https://c9admin.cottage9.com/uploads/812/Large-Tanjore-Painting-of-Gajalakshmi-In-Cupboard-Style-Wooden-Frame-1.jpg"
                alt="Tanjore Painting Frame"
              />
              <span class="featured-tag">Featured</span>
              <button class="favorite-button" data-item-id="tanjore-painting-frame" data-item-title="Tanjore Painting Frame" data-item-price="₹8,000" data-item-category="Art">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    fill="none"
                    stroke-width="2"
                  />
                </svg>
              </button>
            </div>
            <div class="product-info">
              <div class="product-meta">
                <span class="product-category">sofa</span>
                <div class="product-rating">
                  <span class="stars">★★★★★</span>
                  <span class="rating-count">(39)</span>
                </div>
              </div>
              <h3 class="product-title">Tanjore Painting Frame</h3>
              <div class="product-price">₹750/hr</div>
              <div class="product-actions">
                <button class="view-details-btn">View Details</button>
                <button class="add-to-cart-btn">Add to Cart</button>
                <button class="book-now-btn">Book Now</button>
              </div>
            </div>
          </div>
        </div>

        <!-- <div class="load-more">
          <button id="loadMoreBtn">Load More Products</button>
        </div>
        
        <div class="pagination">
          <button class="pagination-button active">1</button>
          <button class="pagination-button">2</button>
          <button class="pagination-button">3</button>
          <button class="pagination-button">4</button>
          <span class="pagination-ellipsis">...</span>
          <button class="pagination-button">12</button>
          <button class="pagination-next">
            Next
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9 5l7 7-7 7"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div> -->
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-brand">Eventra</div>
          <p>Premium event rentals for unforgettable occasions</p>
        </div>
        <div class="footer-links">
          <div>© 2025 Eventra. All rights reserved.</div>
          <div>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Support</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="./js/script.js"></script>
    <script>
      // View toggle functionality
      document.querySelectorAll(".view-button").forEach((button) => {
        button.addEventListener("click", () => {
          document
            .querySelectorAll(".view-button")
            .forEach((btn) => btn.classList.remove("active"));
          button.classList.add("active");

          const view = button.getAttribute("data-view");
          const productsContainer = document.querySelector(".products-grid");

          if (view === "list") {
            productsContainer.classList.add("list-view");
          } else {
            productsContainer.classList.remove("list-view");
          }
        });
      });

      // Filter panel toggle
      document
        .getElementById("showFiltersBtn")
        .addEventListener("click", function () {
          const filterPanel = document.getElementById("filterPanel");
          filterPanel.classList.toggle("active");
        });

      // Price range slider
      const priceRange = document.getElementById("priceRange");
      const priceValue = document.getElementById("priceValue");

      if (priceRange && priceValue) {
        priceRange.addEventListener("input", function () {
          priceValue.textContent = "₹" + parseInt(this.value).toLocaleString();
        });
      }

      // Filter panel buttons
      document
        .querySelector(".btn-apply")
        ?.addEventListener("click", function () {
          window.showInfo("Filters would be applied in a real application.", "Filter Applied");
          document.getElementById("filterPanel").classList.remove("active");
        });

      document
        .querySelector(".btn-reset")
        ?.addEventListener("click", function () {
          const checkboxes = document.querySelectorAll(
            '.filter-options input[type="checkbox"]'
          );
          checkboxes.forEach((checkbox) => (checkbox.checked = false));
          document.getElementById("priceRange").value = 2500;
          document.getElementById("priceValue").textContent = "₹2,500";
        });

      // Favorite button functionality
      document.querySelectorAll(".favorite-button").forEach((button) => {
        button.addEventListener("click", () => {
          // Check if user is logged in
          if (!window.authSystem || !window.authSystem.isLoggedIn()) {
            window.showWarning('Please login to add items to favorites', 'Login Required');
            setTimeout(() => {
              window.location.href = 'login.html';
            }, 2000);
            return;
          }

          const itemId = button.dataset.itemId;
          const itemTitle = button.dataset.itemTitle;
          const itemPrice = button.dataset.itemPrice;
          const itemCategory = button.dataset.itemCategory;

          // Check if item is already in favorites
          const isAlreadyFavorite = window.authSystem.isFavorite(itemId);
          
          if (isAlreadyFavorite) {
            // Remove from favorites
            const success = window.authSystem.removeFromFavorites(itemId);
            if (success) {
              button.classList.remove("active");
              const path = button.querySelector("path");
              path.setAttribute("fill", "none");
            }
          } else {
            // Add to favorites
            const itemData = {
              title: itemTitle,
              price: itemPrice,
              category: itemCategory
            };
            const success = window.authSystem.addToFavorites(itemId, itemData);
            if (success) {
              button.classList.add("active");
              const path = button.querySelector("path");
              path.setAttribute("fill", "currentColor");
            }
          }
        });

        // Set initial state based on user's favorites
        if (window.authSystem && window.authSystem.isLoggedIn()) {
          const itemId = button.dataset.itemId;
          
          if (window.authSystem.isFavorite(itemId)) {
            button.classList.add("active");
            const path = button.querySelector("path");
            path.setAttribute("fill", "currentColor");
          }
        }
      });

      // Load more button
      document
        .getElementById("loadMoreBtn")
        .addEventListener("click", function () {
          // This would typically load more products via AJAX
          window.showInfo("This would load more products in a real application.", "Load More");
        });

      // Navigation buttons
      document.getElementById("loginBtn").addEventListener("click", () => {
        window.location = "login.html";
      });

      document.getElementById("signupBtn").addEventListener("click", () => {
        window.location = "signup.html";
      });

      // Mobile menu
      document.getElementById("hamburger").addEventListener("click", () => {
        const menu = document.querySelector(".menu");
        menu.style.display = menu.style.display === "flex" ? "none" : "flex";
        menu.style.flexDirection = "column";
        menu.style.gap = "14px";
        menu.style.position = "absolute";
        menu.style.top = "68px";
        menu.style.left = "0";
        menu.style.right = "0";
        menu.style.background = "rgba(255,255,255,.96)";
        menu.style.padding = "16px 20px";
        menu.style.borderBottom = "1px solid #ececf2";
      });

      // View details button
      document.querySelectorAll(".view-details-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const productCard = this.closest(".product-card");
          const productTitle = productCard.querySelector(".product-title").textContent;
          
          // Create product ID from title
          const productId = productTitle.toLowerCase()
            .replace(/[^a-z0-9\s]/g, '')
            .replace(/\s+/g, '-');
          
          // Navigate to product detail page
          window.location.href = `product-detail.html?id=${productId}&category=furniture`;
        });
      });
    </script>

    <script src="js/popup-modal.js"></script>
  </body>
</html>